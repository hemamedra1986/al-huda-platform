# ุฏููู ุงุฎุชุจุงุฑ ุงููููุฒุงุช - ููุตุฉ ุงููุฏู

## 1. ุงุฎุชุจุงุฑ Authentication

### ุชุณุฌูู ุงูุฏุฎูู ุจู Google
```
1. ุงุฐูุจ ุฅูู http://localhost:3000/login
2. ุงุถุบุท "Sign in with Google"
3. ุงุณุชููู ุนูููุฉ Google Authentication
4. ูุฌุจ ุฃู ุชูุนุงุฏ ุฅูู /profile
```

### ุชุณุฌูู ุงูุฏุฎูู ุจู Email/Password
```
1. ุงุฐูุจ ุฅูู http://localhost:3000/login
2. ุฃุฏุฎู email ู password
3. ุงุถุบุท "Sign Up" ุฃู "Sign In"
4. ุชุญูู ูู ุฅูุดุงุก ุญุณุงุจ ูู Firestore (users collection)
```

---

## 2. ุงุฎุชุจุงุฑ Consultation Flow

### ุชูุฏูู ุทูุจ ุงุณุชุดุงุฑุฉ
```
1. ุชุฃูุฏ ูู ุชุณุฌูู ุฏุฎููู
2. ุงุฐูุจ ุฅูู http://localhost:3000/consultations
3. ุฃููู ุงููููุฐุฌ (ุงูุณุคุงู + ููุน ุงูุงุณุชุดุงุฑุฉ)
4. ุงุฎุชุฑ ุทุฑููุฉ ุฏูุน (Stripe ุฃู PayPal)
5. ุฃููู ุนูููุฉ ุงูุฏูุน
6. ุชุญูู ูู ุฅูุดุงุก order ูู Firestore (orders collection)
7. ูุฌุจ ุฃู ุชูุนุงุฏ ุฅูู /messages
```

### ุงุฎุชุจุงุฑ Stripe
```
ุงุณุชุฎุฏู ุจุทุงูุฉ ุงุฎุชุจุงุฑ: 4242 4242 4242 4242
ุชุงุฑูุฎ ุงูุงูุชูุงุก: 12/25 ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
CVC: ุฃู 3 ุฃุฑูุงู
```

### ุงุฎุชุจุงุฑ PayPal
```
ุงุณุชุฎุฏู ุญุณุงุจ sandbox ูู PayPal
https://developer.paypal.com/
```

---

## 3. ุงุฎุชุจุงุฑ Messaging

### ุงูุฑุณุงุฆู ุงููุตูุฉ
```
1. ุจุนุฏ ุงูุฏูุนุ ุงุฐูุจ ุฅูู /messages
2. ุงูุชุจ ุฑุณุงูุฉ ูู ุญูู ุงููุต
3. ุงุถุบุท Send
4. ุชุญูู ูู ุธููุฑ ุงูุฑุณุงูุฉ ูู ุงูุดุงุดุฉ
5. ุชุญูู ูู ุญูุธ ุงูุฑุณุงูุฉ ูู Firestore (messages collection)
```

### ุงูุฑุณุงุฆู ุงูุตูุชูุฉ
```
1. ูู /messagesุ ุงุถุบุท ุนูู ุฒุฑ ุงูุชุณุฌูู ๐ค
2. ุงุณูุญ ุจุงููุตูู ูููููุฑูููู
3. ูู ุดูุก ูุง
4. ุงุถุบุท Stop
5. ุงุถุบุท Send
6. ูุฌุจ ุฃู ูุชู ุฑูุน ุงูููู ุงูุตูุชู ุฅูู Firebase Storage
7. ุชุญูู ูู ุธููุฑ ูุดุบู ุงูุตูุช ูู ุงูุฑุณุงูุฉ
```

---

## 4. ุงุฎุชุจุงุฑ Admin Dashboard

### ุชุณุฌูู ุฏุฎูู ูู Admin
```
ููุงุญุธุฉ: ูุฌุจ ุฅุถุงูุฉ ุฅูููู ุงูุงุฎุชุจุงุฑ ุฅูู NEXT_PUBLIC_ADMIN_EMAILS ูู .env.local

1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ admin: admin@alhuda.com
2. ุงุฐูุจ ุฅูู http://localhost:3000/admin
3. ูุฌุจ ุฃู ุชุดูู ููุญุฉ ุงูุชุญูู
```

### ุชุจููุจ Users
```
1. ุดูู ูุงุฆูุฉ ุฌููุน ุงููุณุชุฎุฏููู
2. ุงุจุญุซ ุนู ูุณุชุฎุฏู ุจุงุณุชุฎุฏุงู ุงูุจุญุซ
3. ุชุญูู ูู ุนุฑุถ ุงูุจูุงูุงุช ุงูุตุญูุญุฉ (email, name, uid)
```

### ุชุจููุจ Messages
```
1. ุดูู ูุงุฆูุฉ ุงููุญุงุฏุซุงุช ุนูู ุงููุณุงุฑ
2. ุดูู ุนุฏุฏ ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ ุจุฌุงูุจ ูู ูุณุชุฎุฏู
3. ุงุฎุชุฑ ูุญุงุฏุซุฉ
4. ุดูู ุชุงุฑูุฎ ุงูุฑุณุงุฆู ูุงูุฑุฏูุฏ
5. ุงูุชุจ ุฑุฏ ูุฃุฑุณูู
6. ุชุญูู ูู ุธููุฑ ุงูุฑุฏ ููุฑุงู
7. ุงุณุชุฎุฏู ุงูุจุญุซ ูุชุตููุฉ ุงูุฑุณุงุฆู
```

### ุชุจููุจ Payments
```
1. ุดูู ุฌููุน ุงูุทูุจุงุช
2. ุดูู ุงูุญุงูุฉ (pending/paid/failed)
3. ุงุจุญุซ ุนู ุทูุจ (userId/email/plan/status)
4. ุบููุฑ ุญุงูุฉ ุงูุทูุจ ุจุงูุฃุฒุฑุงุฑ
5. ุชุญูู ูู ุชุญุฏูุซ ุงูุญุงูุฉ ูู Firestore
```

---

## 5. ุงุฎุชุจุงุฑ ุงูุจุญุซ ูุงูุชุตููุฉ

### ุงูุจุญุซ ูู Users
```
ุฌุฑูุจ ุงูุจุญุซ ุนู:
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (email@example.com)
- ุงูุงุณู (ูุญูุฏ)
- UID (firebase-uid-xxx)
```

### ุงูุจุญุซ ูู Messages
```
ุฌุฑูุจ ุงูุจุญุซ ุนู:
- userId
- ูุต ุงูุฑุณุงูุฉ
- ุงูุญุงูุฉ (new/replied)
- ููุน ุงูุฑุณุงูุฉ (text/audio)
```

### ุงูุจุญุซ ูู Payments
```
ุฌุฑูุจ ุงูุจุญุซ ุนู:
- userId
- email
- ุงุณู ุงูุฎุทุฉ (plan name)
- ุงูุญุงูุฉ (pending/paid/failed)
```

---

## 6. ุงุฎุชุจุงุฑ Real-time Features

### Update ูู ุงูููุช ุงููุนูู
```
1. ุงูุชุญ ุงููุชุตูุญ ุจู 2 ุนูุงูุงุช ุชุจููุจ
2. ูู ุนูุงูุฉ 1: admin dashboard
3. ูู ุนูุงูุฉ 2: user messages
4. ูู userุ ุฃุฑุณู ุฑุณุงูุฉ
5. ูู adminุ ูุฌุจ ุฃู ุชุธูุฑ ุงูุฑุณุงูุฉ ููุฑุงู
6. ูู adminุ ุงุฑุฏ
7. ูู userุ ูุฌุจ ุฃู ูุธูุฑ ุงูุฑุฏ ููุฑุงู
```

---

## 7. ุงุฎุชุจุงุฑ Firebase Collections

### ุนุฑุถ Firestore Collections
```
1. ุงุฐูุจ ุฅูู http://localhost:3000/admin/firestore
2. ุดูู collections:
   - users (ุจูุงูุงุช ุงููุณุชุฎุฏููู)
   - messages (ุงูุฑุณุงุฆู)
   - orders (ุงูุทูุจุงุช)
   - bookings (ุงูุญุฌูุฒุงุช)
3. ุดูู ุงูุจูุงูุงุช ุงูุญููููุฉ ุงููุญููุธุฉ
```

---

## 8. ุงุฎุชุจุงุฑ Protection & Security

### Protected Routes
```
1. ุญุงูู ุงูุฏุฎูู ุฅูู /messages ุจุฏูู ุชุณุฌูู ุฏุฎูู
2. ูุฌุจ ุฃู ุชูุนุงุฏ ุฅูู /login
3. ุญุงูู ุงูุฏุฎูู ุฅูู /admin ุจุฏูู ุฃู ุชููู admin
4. ูุฌุจ ุฃู ุชุดูู ุฑุณุงูุฉ ุฎุทุฃ
```

### Paid Consultation Gating
```
1. ุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุนุงุฏู
2. ุญุงูู ูุชุญ /messages ุจุฏูู ุฏูุน
3. ูุฌุจ ุฃู ุชูุนุงุฏ ุฅูู /consultations
4. ุฃุฏูุน ููุงุณุชุดุงุฑุฉ
5. ุงูุขู ูุชุงุญ ูู ุงูุฏุฎูู ุฅูู /messages
```

---

## 9. ูุคุดุฑุงุช ุงููุฌุงุญ

| Feature | ูุฌุญ โ |
|---------|-------|
| Google login ูุนูู | |
| Email login ูุนูู | |
| Profile update ูุนูู | |
| Consultation form ูุนูู | |
| Stripe payment ูุนูู | |
| PayPal payment ูุนูู | |
| Text messages ุชุญูุธ | |
| Audio messages ุชุญููู ูุชุดุชุบู | |
| Admin can reply | |
| Search ูุนูู | |
| Real-time updates ุชุดุชุบู | |
| Paid access restriction ูุนูู | |
| Admin dashboard ูุนูู | |

---

## 10. Troubleshooting

### Firebase Authentication ุบูุฑ ููุดุท
```
ุงูุญู:
1. ุงุฐูุจ ุฅูู Firebase Console
2. ูู Authenticationุ ูุนูู Google ู Email/Password
3. ุฃุถู ุฏููููู ุฅูู Authorized domains
```

### Firestore Rules ุบูุฑ ููุดูุฑ
```
ุงูุญู:
firebase login
firebase use YOUR_PROJECT_ID
firebase deploy --only firestore:rules
```

### .env.local ูุชุบูุฑุงุช ุฎุงุทุฆุฉ
```
ุงูุญู:
1. ุฌุฏูุฏ ุงูุฎูุงุฏู
npm run dev (ูู ุฌุฏูุฏ)

2. ุฃู ุฃุถููุง ูู Firebase Console Environment Variables
```

### Voice upload ูุงุดู
```
ุงูุญู:
1. ุชุญูู ูู Firebase Storage Rules
2. ุชุฃูุฏ ูู CORS settings
3. ุฌุฑูุจ ูู DevTools ุจู Network tab
```

---

**ุฌุงูุฒ ููุงุฎุชุจุงุฑ! ๐งช**
